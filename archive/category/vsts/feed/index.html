<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	xmlns:georss="http://www.georss.org/georss" xmlns:geo="http://www.w3.org/2003/01/geo/wgs84_pos#" xmlns:media="http://search.yahoo.com/mrss/"
	>

<channel>
	<title>VSTS &#8211; Peter Rombouts</title>
	<atom:link href="https://peterrombouts.nl/category/vsts/feed/" rel="self" type="application/rss+xml" />
	<link>https://peterrombouts.nl</link>
	<description>All things Cloud &#124; Software &#124; Coding &#124; Integration &#124; Automation &#124; DevSecAnythingOps &#124; Cloud Native &#124; Serverless</description>
	<lastBuildDate>Thu, 10 Jan 2019 10:15:22 +0000</lastBuildDate>
	<language>en</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>http://wordpress.com/</generator>

<image>
	<url>https://peterrombouts.nl/wp-content/uploads/2023/11/peter.jpg?w=32</url>
	<title>VSTS &#8211; Peter Rombouts</title>
	<link>https://peterrombouts.nl</link>
	<width>32</width>
	<height>32</height>
</image> 
<site xmlns="com-wordpress:feed-additions:1">155596116</site><cloud domain='peterrombouts.nl' port='80' path='/?rsscloud=notify' registerProcedure='' protocol='http-post' />
<atom:link rel="search" type="application/opensearchdescription+xml" href="https://peterrombouts.nl/osd.xml" title="Peter Rombouts" />
	<atom:link rel='hub' href='https://peterrombouts.nl/?pushpress=hub'/>
	<item>
		<title>Slidedeck presentation devNetNoord Meetup</title>
		<link>https://peterrombouts.nl/2018/09/27/slidedeck-presentation-devnetnoord-meetup/</link>
		
		<dc:creator><![CDATA[Peter]]></dc:creator>
		<pubDate>Thu, 27 Sep 2018 08:23:53 +0000</pubDate>
				<category><![CDATA[Azure]]></category>
		<category><![CDATA[CICD]]></category>
		<category><![CDATA[VSTS]]></category>
		<guid isPermaLink="false">http://peterrombouts.wordpress.com/?p=63</guid>

					<description><![CDATA[This post contains my slides of my talk &#8216;ARM and Cloud Infra &#8211; The Secret Life of a Developer in a Infra World&#8217; at devNetNoord. Click here to download]]></description>
										<content:encoded><![CDATA[<p>This post contains my slides of my talk &#8216;ARM and Cloud Infra &#8211; The Secret Life of a Developer in a Infra World&#8217; at <a target="_blank" href="https://www.meetup.com/nl-NL/devnetnoord/events/248989109/">devNetNoord</a>.</p>
<p><a href="/wp-content/uploads/2018/09/DevNetNoord.pdf">Click here to download</a></p>
]]></content:encoded>
					
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">63</post-id>
		<media:content url="https://2.gravatar.com/avatar/2d71c5b7b9038c6f1e7d41fe2d53cc80d5758cb22034c2c551ba0037727f9086?s=96&#38;d=identicon&#38;r=G" medium="image">
			<media:title type="html">peterr1978</media:title>
		</media:content>
	</item>
		<item>
		<title>VSTS Extension &#8211; Tagging all resources within a Resource Group</title>
		<link>https://peterrombouts.nl/2018/07/17/vsts-extension-tagging-all-resources-within-a-resource-group/</link>
					<comments>https://peterrombouts.nl/2018/07/17/vsts-extension-tagging-all-resources-within-a-resource-group/#comments</comments>
		
		<dc:creator><![CDATA[Peter]]></dc:creator>
		<pubDate>Tue, 17 Jul 2018 08:23:10 +0000</pubDate>
				<category><![CDATA[Azure]]></category>
		<category><![CDATA[Build]]></category>
		<category><![CDATA[CICD]]></category>
		<category><![CDATA[VSTS]]></category>
		<guid isPermaLink="false">http://peterrombouts.wordpress.com/?p=61</guid>

					<description><![CDATA[In my current project I&#8217;ve stumbled upon a problem. We have many ARM templates and need to add tags to all resources. Doing this within templates can be cumbersome, so I&#8217;ve created a small VSTS extension that adds tags to all resources within a specific resource group. The extension can be installed from https://marketplace.visualstudio.com/items?itemName=PeterRombouts.autotagging-extension The &#8230; <a href="https://peterrombouts.nl/2018/07/17/vsts-extension-tagging-all-resources-within-a-resource-group/" class="more-link">Continue reading<span class="screen-reader-text"> "VSTS Extension &#8211; Tagging all resources within a Resource&#160;Group"</span></a>]]></description>
										<content:encoded><![CDATA[<p>In my current project I&#8217;ve stumbled upon a problem. We have many ARM templates and need to add tags to all resources. Doing this within templates can be cumbersome, so I&#8217;ve created a small VSTS extension that adds tags to all resources within a specific resource group.</p>
<p>The extension can be installed from <a href="https://marketplace.visualstudio.com/items?itemName=PeterRombouts.autotagging-extension" target="_blank" rel="noopener">https://marketplace.visualstudio.com/items?itemName=PeterRombouts.autotagging-extension</a></p>
<p>The working is pretty simple; enter the values for your subscription, and resourcegroup, and then add the tags.</p>
<p><img data-attachment-id="124" data-permalink="https://peterrombouts.nl/screenshots-vsts-auto-tagging-1/" data-orig-file="https://peterrombouts.nl/wp-content/uploads/2018/12/screenshots-vsts-auto-tagging-1.png" data-orig-size="1064,665" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="screenshots-vsts-auto-tagging-1" data-image-description="" data-image-caption="" data-medium-file="https://peterrombouts.nl/wp-content/uploads/2018/12/screenshots-vsts-auto-tagging-1.png?w=300" data-large-file="https://peterrombouts.nl/wp-content/uploads/2018/12/screenshots-vsts-auto-tagging-1.png?w=840" class="alignnone size-full wp-image-124" src="https://peterrombouts.nl/wp-content/uploads/2018/12/screenshots-vsts-auto-tagging-1.png?w=840" alt="screenshots-vsts-auto-tagging-1"   srcset="https://peterrombouts.nl/wp-content/uploads/2018/12/screenshots-vsts-auto-tagging-1.png 1064w, https://peterrombouts.nl/wp-content/uploads/2018/12/screenshots-vsts-auto-tagging-1.png?w=150&amp;h=94 150w, https://peterrombouts.nl/wp-content/uploads/2018/12/screenshots-vsts-auto-tagging-1.png?w=300&amp;h=188 300w, https://peterrombouts.nl/wp-content/uploads/2018/12/screenshots-vsts-auto-tagging-1.png?w=768&amp;h=480 768w, https://peterrombouts.nl/wp-content/uploads/2018/12/screenshots-vsts-auto-tagging-1.png?w=1024&amp;h=640 1024w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px" /></p>
<p>The tag pairs should be entered, one pair per line, comma separated. The extension will add these tags to all resources in the given resource group, and will not do anything to the existing tags.</p>
<p>Remarks? Please do give feedback! The project is available on <a href="https://github.com/prombouts/vsts-auto-tagging" target="_blank" rel="noopener">Github</a> if you want to contribute!</p>
]]></content:encoded>
					
					<wfw:commentRss>https://peterrombouts.nl/2018/07/17/vsts-extension-tagging-all-resources-within-a-resource-group/feed/</wfw:commentRss>
			<slash:comments>2</slash:comments>
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">61</post-id>
		<media:content url="https://2.gravatar.com/avatar/2d71c5b7b9038c6f1e7d41fe2d53cc80d5758cb22034c2c551ba0037727f9086?s=96&#38;d=identicon&#38;r=G" medium="image">
			<media:title type="html">peterr1978</media:title>
		</media:content>

		<media:content url="https://peterrombouts.nl/wp-content/uploads/2018/12/screenshots-vsts-auto-tagging-1.png" medium="image">
			<media:title type="html">screenshots-vsts-auto-tagging-1</media:title>
		</media:content>
	</item>
		<item>
		<title>ARM Outputs in VSTS pipelines</title>
		<link>https://peterrombouts.nl/2018/06/25/arm-outputs-in-vsts-pipelines/</link>
		
		<dc:creator><![CDATA[Peter]]></dc:creator>
		<pubDate>Mon, 25 Jun 2018 08:22:31 +0000</pubDate>
				<category><![CDATA[Azure]]></category>
		<category><![CDATA[Build]]></category>
		<category><![CDATA[CICD]]></category>
		<category><![CDATA[VSTS]]></category>
		<guid isPermaLink="false">http://peterrombouts.wordpress.com/?p=59</guid>

					<description><![CDATA[In my work as Cloud Solution Architect I often find teams struggling with the exact same problem. In this blogpost I will highlight one of those problems; passing on ARM output variables within a VSTS pipeline. Many developers have Powershell or other scripts in place, that fix this problem, but I want to highlight an &#8230; <a href="https://peterrombouts.nl/2018/06/25/arm-outputs-in-vsts-pipelines/" class="more-link">Continue reading<span class="screen-reader-text"> "ARM Outputs in VSTS&#160;pipelines"</span></a>]]></description>
										<content:encoded><![CDATA[<p>In my work as Cloud Solution Architect I often find teams struggling with the exact same problem. In this blogpost I will highlight one of those problems; passing on ARM output variables within a VSTS pipeline.</p>
<p>Many developers have Powershell or other scripts in place, that fix this problem, but I want to highlight an extension, which is freely available and does this for you, for <strong>free</strong>!</p>
<p><img class="alignnone size-full" src="https://keesschollaart.gallerycdn.vsassets.io/extensions/keesschollaart/arm-outputs/3.0.2/1517479176919/images/screenshots-vsts-arm-outputs-1.png" alt="ARM Outputs by Kees Schollaart" width="1200" height="546" /></p>
<p>&nbsp;</p>
<blockquote><p>This extension enables you to use the ARM Deployment outputs in your VSTS environment.</p>
<p>This step will use the last successful deployment within the selected resource group. If this deployment has outputs, all of them are copied to VSTS variables by the ARM Output key.</p>
<p>These outputs can then be used by default VSTS ways: <code><span style="color:#333333;">$(same-key-as-in-arm-template)</span></code></p>
<p>Usually this task is ran directly after the &#8216;Azure Resource Group Deployment&#8217; task.</p></blockquote>
<p>So my pro-tip; Stop using your own scripts and implement this handy extension!</p>
<p>PS: On a sidenote, Kees is also a great guy, give him a tweet after you install this in your project <img src="https://s0.wp.com/wp-content/mu-plugins/wpcom-smileys/twemoji/2/72x72/1f609.png" alt="ðŸ˜‰" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
<p>Link to Marketplace: <a href="https://marketplace.visualstudio.com/items?itemName=keesschollaart.arm-outputs">https://marketplace.visualstudio.com/items?itemName=keesschollaart.arm-outputs</a><br />
Kees on Twitter: <a href="https://twitter.com/keesschollaart">https://twitter.com/keesschollaart</a></p>
]]></content:encoded>
					
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">59</post-id>
		<media:content url="https://2.gravatar.com/avatar/2d71c5b7b9038c6f1e7d41fe2d53cc80d5758cb22034c2c551ba0037727f9086?s=96&#38;d=identicon&#38;r=G" medium="image">
			<media:title type="html">peterr1978</media:title>
		</media:content>

		<media:content url="https://keesschollaart.gallerycdn.vsassets.io/extensions/keesschollaart/arm-outputs/3.0.2/1517479176919/images/screenshots-vsts-arm-outputs-1.png" medium="image">
			<media:title type="html">ARM Outputs by Kees Schollaart</media:title>
		</media:content>
	</item>
		<item>
		<title>LogicApp Template Creator</title>
		<link>https://peterrombouts.nl/2018/01/06/logicapp-template-creator/</link>
		
		<dc:creator><![CDATA[Peter]]></dc:creator>
		<pubDate>Sat, 06 Jan 2018 09:20:46 +0000</pubDate>
				<category><![CDATA[CICD]]></category>
		<category><![CDATA[Serverless]]></category>
		<category><![CDATA[VSTS]]></category>
		<guid isPermaLink="false">http://peterrombouts.wordpress.com/?p=55</guid>

					<description><![CDATA[When trying to put your LogicApp code in a CICD pipeline, it is always problematic getting your code into a proper template. Obviously switching to &#8216;LogicApp Code View&#8217; is an option, but there is a better solution to this problem. LogicAppTemplate is a PowerShell commandlet that makes is very easy to get the content (even &#8230; <a href="https://peterrombouts.nl/2018/01/06/logicapp-template-creator/" class="more-link">Continue reading<span class="screen-reader-text"> "LogicApp Template Creator"</span></a>]]></description>
										<content:encoded><![CDATA[<p>When trying to put your LogicApp code in a CICD pipeline, it is always problematic getting your code into a proper template.<br />
Obviously switching to &#8216;LogicApp Code View&#8217; is an option, but there is a better solution to this problem.</p>
<p><a href="https://www.powershellgallery.com/packages/LogicAppTemplate/0.2.3" target="_blank" rel="noopener">LogicAppTemplate</a> is a PowerShell commandlet that makes is very easy to get the content (even automatically) of the app and save it to disk.</p>
<p>The usage is very simple, open up a PowerShell window and execute the next command:<br />
<a href="https://gist.github.com/prombouts/73ce2c5eeb8c7ca2db516223ad311732" target="_blank" rel="noopener">Check out this gist</a></p>
<p>Big thanks to <a href="https://twitter.com/jeffhollan" target="_blank" rel="noopener">Jeff Hollan</a> who authored this!</p>
]]></content:encoded>
					
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">55</post-id>
		<media:content url="https://2.gravatar.com/avatar/2d71c5b7b9038c6f1e7d41fe2d53cc80d5758cb22034c2c551ba0037727f9086?s=96&#38;d=identicon&#38;r=G" medium="image">
			<media:title type="html">peterr1978</media:title>
		</media:content>
	</item>
		<item>
		<title>Deploy LogicApps using linked templates</title>
		<link>https://peterrombouts.nl/2017/10/17/deploy-logicapps-using-linked-templates/</link>
		
		<dc:creator><![CDATA[Peter]]></dc:creator>
		<pubDate>Tue, 17 Oct 2017 08:17:19 +0000</pubDate>
				<category><![CDATA[Build]]></category>
		<category><![CDATA[CICD]]></category>
		<category><![CDATA[MicrosoftHelden]]></category>
		<category><![CDATA[VSTS]]></category>
		<guid isPermaLink="false">http://peterrombouts.wordpress.com/?p=47</guid>

					<description><![CDATA[Deploying LogicApps with VSTS is easy. You can create a new project using the steps defined in this post and you are all set with deployment settings in place. But, when you add more and more LogicApps your JSON file will grow and you might be better off putting each LogicApp within its own JSON. &#8230; <a href="https://peterrombouts.nl/2017/10/17/deploy-logicapps-using-linked-templates/" class="more-link">Continue reading<span class="screen-reader-text"> "Deploy LogicApps using linked&#160;templates"</span></a>]]></description>
										<content:encoded><![CDATA[<p>Deploying <a href="https://azure.microsoft.com/en-us/services/logic-apps/" target="_blank" rel="noopener">LogicApps</a> with VSTS is easy. You can create a new project using the steps <a href="https://docs.microsoft.com/en-us/azure/logic-apps/logic-apps-deploy-from-vs" target="_blank" rel="noopener">defined in this post</a> and you are all set with deployment settings in place.</p>
<p>But, when you add more and more LogicApps your JSON file will grow and you might be better off putting each LogicApp within its own JSON. Not to speak of the parameters running wild within your files&#8230;<br />
This post will explain how to set this up, and what is needed in your VSTS builds to enable the deployment of all the linked apps.</p>
<p><span id="more-47"></span></p>
<h2>Multiple LogicApps</h2>
<p>When you add a LogicApp to your existing project, you can expect a settings screen like below:</p>
<p><img data-attachment-id="100" data-permalink="https://peterrombouts.nl/1addlogicapp/" data-orig-file="https://peterrombouts.nl/wp-content/uploads/2018/12/1addlogicapp.png" data-orig-size="1081,714" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="1AddLogicApp" data-image-description="" data-image-caption="" data-medium-file="https://peterrombouts.nl/wp-content/uploads/2018/12/1addlogicapp.png?w=300" data-large-file="https://peterrombouts.nl/wp-content/uploads/2018/12/1addlogicapp.png?w=840" class="alignnone size-full wp-image-100" src="https://peterrombouts.nl/wp-content/uploads/2018/12/1addlogicapp.png?w=840" alt="1AddLogicApp"   srcset="https://peterrombouts.nl/wp-content/uploads/2018/12/1addlogicapp.png 1081w, https://peterrombouts.nl/wp-content/uploads/2018/12/1addlogicapp.png?w=150&amp;h=99 150w, https://peterrombouts.nl/wp-content/uploads/2018/12/1addlogicapp.png?w=300&amp;h=198 300w, https://peterrombouts.nl/wp-content/uploads/2018/12/1addlogicapp.png?w=768&amp;h=507 768w, https://peterrombouts.nl/wp-content/uploads/2018/12/1addlogicapp.png?w=1024&amp;h=676 1024w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px" /></p>
<p>The result is a new set of params and a new resource:</p>
<p><img loading="lazy" data-attachment-id="71" data-permalink="https://peterrombouts.nl/2twoapps/" data-orig-file="https://peterrombouts.nl/wp-content/uploads/2018/12/2twoapps.png" data-orig-size="929,771" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="2TwoApps" data-image-description="" data-image-caption="" data-medium-file="https://peterrombouts.nl/wp-content/uploads/2018/12/2twoapps.png?w=300" data-large-file="https://peterrombouts.nl/wp-content/uploads/2018/12/2twoapps.png?w=840" class="alignnone size-full wp-image-71" src="https://peterrombouts.nl/wp-content/uploads/2018/12/2twoapps.png?w=840" alt="2TwoApps"   srcset="https://peterrombouts.nl/wp-content/uploads/2018/12/2twoapps.png 929w, https://peterrombouts.nl/wp-content/uploads/2018/12/2twoapps.png?w=150&amp;h=124 150w, https://peterrombouts.nl/wp-content/uploads/2018/12/2twoapps.png?w=300&amp;h=249 300w, https://peterrombouts.nl/wp-content/uploads/2018/12/2twoapps.png?w=768&amp;h=637 768w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px" /></p>
<h2>Splitting up the LogicApps</h2>
<p>To split up the files, several steps need to be taken.</p>
<ol>
<li>Move the LogicApps from the main JSON to separate files</li>
<li>Update the main JSON file to point to the new separated files, and add parametes to work with artifacts/SAS during deployment</li>
<li>Update the parameters file to set names and other settings</li>
</ol>
<h3>1. Move the LogicApps</h3>
<p>The first step of separating the files is to create a folder (although not necessary, highly recommended because of readability) within your solution, and move the separate LogicApps into those folders.</p>
<p><img loading="lazy" data-attachment-id="73" data-permalink="https://peterrombouts.nl/3folders/" data-orig-file="https://peterrombouts.nl/wp-content/uploads/2018/12/3folders.png" data-orig-size="312,186" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="3Folders" data-image-description="" data-image-caption="" data-medium-file="https://peterrombouts.nl/wp-content/uploads/2018/12/3folders.png?w=300" data-large-file="https://peterrombouts.nl/wp-content/uploads/2018/12/3folders.png?w=312" class="alignnone size-full wp-image-73" src="https://peterrombouts.nl/wp-content/uploads/2018/12/3folders.png?w=840" alt="3Folders"   srcset="https://peterrombouts.nl/wp-content/uploads/2018/12/3folders.png 312w, https://peterrombouts.nl/wp-content/uploads/2018/12/3folders.png?w=150&amp;h=89 150w, https://peterrombouts.nl/wp-content/uploads/2018/12/3folders.png?w=300&amp;h=179 300w" sizes="(max-width: 312px) 85vw, 312px" /></p>
<h3>2. Update LogicApp.json and add parameters</h3>
<p>To link these new JSON files, the LogicApp.json needs to be updated, like in the following gist. Three new parameters are added to the JSON. The first two are used to link in VSTS to the blob storage that will hold these templates.</p>
<p><a href="https://gist.github.com/prombouts/f541e53fecc95a95d0f8940710cd15b7.js">https://gist.github.com/prombouts/f541e53fecc95a95d0f8940710cd15b7.js</a></p>
<h3>3. Update LogicApp.parameters.json</h3>
<p>Finally we have to edit the parameters file. The next gist show how the default setup is, when creating LogicApps within one single JSON:</p>
<p><a href="https://gist.github.com/prombouts/105351d5bbc5a364c0cfc2b1d9184160.js">https://gist.github.com/prombouts/105351d5bbc5a364c0cfc2b1d9184160.js</a></p>
<p>The next example show how to create a new configurationparameter object to hold the settings for the separate files. We will refer to these in the LogicApps within the folder.<br />
<a href="https://gist.github.com/prombouts/eab9aa4963a09df052718cb3dd62716a.js">https://gist.github.com/prombouts/eab9aa4963a09df052718cb3dd62716a.js</a></p>
<h2>Setup VSTS build</h2>
<p>To leverage these templates, some additional steps need to be taken in VSTS. For example the artifacts and SAS tokens should be passed in as parameters.</p>
<h3>Build step</h3>
<p>In the build step, the templates should be copied to blob storage. After all, the linked templates only work with full URLs so we must place these in storage. Note the output parameters to be used in the next steps when validating the template:</p>
<p><img loading="lazy" data-attachment-id="72" data-permalink="https://peterrombouts.nl/3artifacts/" data-orig-file="https://peterrombouts.nl/wp-content/uploads/2018/12/3artifacts.png" data-orig-size="870,797" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="3Artifacts" data-image-description="" data-image-caption="" data-medium-file="https://peterrombouts.nl/wp-content/uploads/2018/12/3artifacts.png?w=300" data-large-file="https://peterrombouts.nl/wp-content/uploads/2018/12/3artifacts.png?w=840" class="alignnone size-full wp-image-72" src="https://peterrombouts.nl/wp-content/uploads/2018/12/3artifacts.png?w=840" alt="3Artifacts"   srcset="https://peterrombouts.nl/wp-content/uploads/2018/12/3artifacts.png 870w, https://peterrombouts.nl/wp-content/uploads/2018/12/3artifacts.png?w=150&amp;h=137 150w, https://peterrombouts.nl/wp-content/uploads/2018/12/3artifacts.png?w=300&amp;h=275 300w, https://peterrombouts.nl/wp-content/uploads/2018/12/3artifacts.png?w=768&amp;h=704 768w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px" /></p>
<p>Make sure you publish the artifacts to a folder, so you can pick these up in the release step!</p>
<h3>Release step</h3>
<p>Finally the release should be setup. In the first step the files are copied to blob storage, and the output parameters are used to capture the sas tokens.</p>
<p><img loading="lazy" data-attachment-id="76" data-permalink="https://peterrombouts.nl/4copyblob/" data-orig-file="https://peterrombouts.nl/wp-content/uploads/2018/12/4copyblob.png" data-orig-size="844,743" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="4CopyBlob" data-image-description="" data-image-caption="" data-medium-file="https://peterrombouts.nl/wp-content/uploads/2018/12/4copyblob.png?w=300" data-large-file="https://peterrombouts.nl/wp-content/uploads/2018/12/4copyblob.png?w=840" class="alignnone size-full wp-image-76" src="https://peterrombouts.nl/wp-content/uploads/2018/12/4copyblob.png?w=840" alt="4CopyBlob"   srcset="https://peterrombouts.nl/wp-content/uploads/2018/12/4copyblob.png 844w, https://peterrombouts.nl/wp-content/uploads/2018/12/4copyblob.png?w=150&amp;h=132 150w, https://peterrombouts.nl/wp-content/uploads/2018/12/4copyblob.png?w=300&amp;h=264 300w, https://peterrombouts.nl/wp-content/uploads/2018/12/4copyblob.png?w=768&amp;h=676 768w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px" /></p>
<p>Secondly the actual deploy uses the parameters from the previous step and deploys the actual apps to Azure.</p>
<p><img loading="lazy" data-attachment-id="80" data-permalink="https://peterrombouts.nl/5deploy/" data-orig-file="https://peterrombouts.nl/wp-content/uploads/2018/12/5deploy.png" data-orig-size="878,778" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="5Deploy" data-image-description="" data-image-caption="" data-medium-file="https://peterrombouts.nl/wp-content/uploads/2018/12/5deploy.png?w=300" data-large-file="https://peterrombouts.nl/wp-content/uploads/2018/12/5deploy.png?w=840" class="alignnone size-full wp-image-80" src="https://peterrombouts.nl/wp-content/uploads/2018/12/5deploy.png?w=840" alt="5Deploy"   srcset="https://peterrombouts.nl/wp-content/uploads/2018/12/5deploy.png 878w, https://peterrombouts.nl/wp-content/uploads/2018/12/5deploy.png?w=150&amp;h=133 150w, https://peterrombouts.nl/wp-content/uploads/2018/12/5deploy.png?w=300&amp;h=266 300w, https://peterrombouts.nl/wp-content/uploads/2018/12/5deploy.png?w=768&amp;h=681 768w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px" /></p>
<h2>Conclusion</h2>
<p>Setting up the pipeline with linked templates is not difficult, but will take more time to setup properly. When everything is in place, adding more templates is very easy and the separation of the various apps in separate json files will increase maintainability and readability. It will also help you share your templates with your peers.</p>
<p>Feel free to ask me anything on this subject; drop me an email or contact me on Twitter.</p>
]]></content:encoded>
					
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">47</post-id>
		<media:content url="https://2.gravatar.com/avatar/2d71c5b7b9038c6f1e7d41fe2d53cc80d5758cb22034c2c551ba0037727f9086?s=96&#38;d=identicon&#38;r=G" medium="image">
			<media:title type="html">peterr1978</media:title>
		</media:content>

		<media:content url="https://peterrombouts.nl/wp-content/uploads/2018/12/1addlogicapp.png" medium="image">
			<media:title type="html">1AddLogicApp</media:title>
		</media:content>

		<media:content url="https://peterrombouts.nl/wp-content/uploads/2018/12/2twoapps.png" medium="image">
			<media:title type="html">2TwoApps</media:title>
		</media:content>

		<media:content url="https://peterrombouts.nl/wp-content/uploads/2018/12/3folders.png" medium="image">
			<media:title type="html">3Folders</media:title>
		</media:content>

		<media:content url="https://peterrombouts.nl/wp-content/uploads/2018/12/3artifacts.png" medium="image">
			<media:title type="html">3Artifacts</media:title>
		</media:content>

		<media:content url="https://peterrombouts.nl/wp-content/uploads/2018/12/4copyblob.png" medium="image">
			<media:title type="html">4CopyBlob</media:title>
		</media:content>

		<media:content url="https://peterrombouts.nl/wp-content/uploads/2018/12/5deploy.png" medium="image">
			<media:title type="html">5Deploy</media:title>
		</media:content>
	</item>
		<item>
		<title>Deploy and host static content in Azure Blob storage</title>
		<link>https://peterrombouts.nl/2017/08/11/deploy-and-host-static-content-in-azure-blob-storage/</link>
		
		<dc:creator><![CDATA[Peter]]></dc:creator>
		<pubDate>Fri, 11 Aug 2017 08:16:32 +0000</pubDate>
				<category><![CDATA[VSTS]]></category>
		<guid isPermaLink="false">http://peterrombouts.wordpress.com/?p=45</guid>

					<description><![CDATA[Hosting static HTML and CSS in Azure Blob storage is pretty simple. Using the Storage Explorer it is as simple as drag-and-drop. But when you want to integrate this in your VSTS pipeline, content type issues arise. This tiny blog will explain how to identify and fix this problem. Manual uploading static content Using the &#8230; <a href="https://peterrombouts.nl/2017/08/11/deploy-and-host-static-content-in-azure-blob-storage/" class="more-link">Continue reading<span class="screen-reader-text"> "Deploy and host static content in Azure Blob&#160;storage"</span></a>]]></description>
										<content:encoded><![CDATA[<p>Hosting static HTML and CSS in Azure Blob storage is pretty simple. Using the <a href="http://storageexplorer.com/" target="_blank" rel="noopener">Storage Explorer</a> it is as simple as drag-and-drop. But when you want to integrate this in your VSTS pipeline, content type issues arise. This tiny blog will explain how to identify and fix this problem.</p>
<p><span id="more-45"></span></p>
<h2>Manual uploading static content</h2>
<p>Using the <a href="http://storageexplorer.com/" target="_blank" rel="noopener">Storage Explorer</a>, it is easy to create a blob container, and drag-and-drop your static files, like in the screenshot below:</p>
<p><img loading="lazy" data-attachment-id="83" data-permalink="https://peterrombouts.nl/contenttypestorageexplorer/" data-orig-file="https://peterrombouts.nl/wp-content/uploads/2018/12/contenttypestorageexplorer.png" data-orig-size="999,420" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="ContentTypeStorageExplorer" data-image-description="" data-image-caption="" data-medium-file="https://peterrombouts.nl/wp-content/uploads/2018/12/contenttypestorageexplorer.png?w=300" data-large-file="https://peterrombouts.nl/wp-content/uploads/2018/12/contenttypestorageexplorer.png?w=840" class="alignnone size-full wp-image-83" src="https://peterrombouts.nl/wp-content/uploads/2018/12/contenttypestorageexplorer.png?w=840" alt="ContentTypeStorageExplorer"   srcset="https://peterrombouts.nl/wp-content/uploads/2018/12/contenttypestorageexplorer.png 999w, https://peterrombouts.nl/wp-content/uploads/2018/12/contenttypestorageexplorer.png?w=150&amp;h=63 150w, https://peterrombouts.nl/wp-content/uploads/2018/12/contenttypestorageexplorer.png?w=300&amp;h=126 300w, https://peterrombouts.nl/wp-content/uploads/2018/12/contenttypestorageexplorer.png?w=768&amp;h=323 768w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px" /></p>
<p>Highlighted are the file extension and the Content Type. When uploading via drag-and-drop the <strong>Content Type of the files, like HTML and CSS, is automatically set by extension</strong>. As a result, you can open these files in your browser and view these as webpages.</p>
<h2>Integration with VSTS</h2>
<p>If these files are copied using the Azure File Copy task, all Content Types are default set to <code>application/octet-stream</code>. Obviously this will result in a download of the file, instead of serving it as a webpage.</p>
<p>Solving this issue is easy, seen in the screenshot below:</p>
<p><img loading="lazy" data-attachment-id="84" data-permalink="https://peterrombouts.nl/contenttypevsts/" data-orig-file="https://peterrombouts.nl/wp-content/uploads/2018/12/contenttypevsts.png" data-orig-size="1307,466" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="ContentTypeVSTS" data-image-description="" data-image-caption="" data-medium-file="https://peterrombouts.nl/wp-content/uploads/2018/12/contenttypevsts.png?w=300" data-large-file="https://peterrombouts.nl/wp-content/uploads/2018/12/contenttypevsts.png?w=840" class="alignnone size-full wp-image-84" src="https://peterrombouts.nl/wp-content/uploads/2018/12/contenttypevsts.png?w=840" alt="ContentTypeVSTS"   srcset="https://peterrombouts.nl/wp-content/uploads/2018/12/contenttypevsts.png 1307w, https://peterrombouts.nl/wp-content/uploads/2018/12/contenttypevsts.png?w=150&amp;h=53 150w, https://peterrombouts.nl/wp-content/uploads/2018/12/contenttypevsts.png?w=300&amp;h=107 300w, https://peterrombouts.nl/wp-content/uploads/2018/12/contenttypevsts.png?w=768&amp;h=274 768w, https://peterrombouts.nl/wp-content/uploads/2018/12/contenttypevsts.png?w=1024&amp;h=365 1024w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px" /></p>
<p>Simply add <strong>/SetContentType</strong> to the <strong>Additional Arguments</strong> box and the copy task will automatically set the Content Type, according to file extension,</p>
<h2>Conclusion</h2>
<p>When you are not able to serve HTML/CSS or even JS files hosted in Azure Blob storage, check the content type using a tool like the <a href="http://storageexplorer.com/" target="_blank" rel="noopener">Storage Explorer</a>. For automatic content type resolution, add the argument <strong>/SetContentType</strong>.</p>
<p>For more info on AzCopy, see <a href="http://aka.ms/azcopy" target="_blank" rel="noopener">http://aka.ms/azcopy</a>.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
]]></content:encoded>
					
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">45</post-id>
		<media:content url="https://2.gravatar.com/avatar/2d71c5b7b9038c6f1e7d41fe2d53cc80d5758cb22034c2c551ba0037727f9086?s=96&#38;d=identicon&#38;r=G" medium="image">
			<media:title type="html">peterr1978</media:title>
		</media:content>

		<media:content url="https://peterrombouts.nl/wp-content/uploads/2018/12/contenttypestorageexplorer.png" medium="image">
			<media:title type="html">ContentTypeStorageExplorer</media:title>
		</media:content>

		<media:content url="https://peterrombouts.nl/wp-content/uploads/2018/12/contenttypevsts.png" medium="image">
			<media:title type="html">ContentTypeVSTS</media:title>
		</media:content>
	</item>
		<item>
		<title>Using tokens for custom settings in VSTS CICD Pipelines</title>
		<link>https://peterrombouts.nl/2017/04/04/using-tokens-for-custom-settings-in-vsts-cicd-pipelines/</link>
		
		<dc:creator><![CDATA[Peter]]></dc:creator>
		<pubDate>Tue, 04 Apr 2017 08:12:13 +0000</pubDate>
				<category><![CDATA[CICD]]></category>
		<category><![CDATA[VSTS]]></category>
		<guid isPermaLink="false">http://peterrombouts.wordpress.com/?p=37</guid>

					<description><![CDATA[In this blog I will explain how to separate your settings from your configuration files, when deploying from VSTS. I will show with an example how you can deploy your WebApp and store all variables in VSTS, eliminating the need for developers to have all settings and configurable values within Web.config transformation files. When deploying &#8230; <a href="https://peterrombouts.nl/2017/04/04/using-tokens-for-custom-settings-in-vsts-cicd-pipelines/" class="more-link">Continue reading<span class="screen-reader-text"> "Using tokens for custom settings in VSTS CICD&#160;Pipelines"</span></a>]]></description>
										<content:encoded><![CDATA[<p>In this blog I will explain how to separate your settings from your configuration files, when deploying from VSTS. I will show with an example how you can deploy your WebApp and store all variables in VSTS, eliminating the need for developers to have all settings and configurable values within Web.config transformation files.</p>
<p>When deploying your WebApp to various on-premise environments from VSTS, you can use Web.config transformations for separation of your various variables. But, sometimes, the *.Config transformations do not meet your needs.</p>
<p><span id="more-37"></span></p>
<h2>Web.config transformation</h2>
<p>For most .Net developers, using <a href="https://msdn.microsoft.com/en-us/library/dd465326%28v=vs.110%29.aspx" target="_blank" rel="noopener">transformations </a> is a standard procedure to separate your Debug and Release settings while deploying from Visual Studio. It is fully integrated in Visual Studio and is easy to use when deploying or creating packages from your code. These transformations can also be used within VSTS builds, but the disadvantage is that all settings should be present within your solution and code-base.</p>
<p>Take for example the following situation. Building a generic SQL server backed WebApp, releasing this app to your localhost, and Test, Staging and Production environments.</p>
<p><em>Testing your transformations is easy with the free online tool <a href="https://webconfigtransformationtester.apphb.com/" target="_blank" rel="noopener">Web.config Transformation Tester</a>.</em></p>
<p>In this example, a simple transformation can only be setup using more than one transformation if there are more than one database connection strings. In Visual Studio this can be resolved using the example below:</p>
<p><img loading="lazy" data-attachment-id="88" data-permalink="https://peterrombouts.nl/releaseconfig/" data-orig-file="https://peterrombouts.nl/wp-content/uploads/2018/12/releaseconfig.png" data-orig-size="1425,573" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="ReleaseConfig" data-image-description="" data-image-caption="" data-medium-file="https://peterrombouts.nl/wp-content/uploads/2018/12/releaseconfig.png?w=300" data-large-file="https://peterrombouts.nl/wp-content/uploads/2018/12/releaseconfig.png?w=840" class="alignnone size-full wp-image-88" src="https://peterrombouts.nl/wp-content/uploads/2018/12/releaseconfig.png?w=840" alt="ReleaseConfig"   srcset="https://peterrombouts.nl/wp-content/uploads/2018/12/releaseconfig.png 1425w, https://peterrombouts.nl/wp-content/uploads/2018/12/releaseconfig.png?w=150&amp;h=60 150w, https://peterrombouts.nl/wp-content/uploads/2018/12/releaseconfig.png?w=300&amp;h=121 300w, https://peterrombouts.nl/wp-content/uploads/2018/12/releaseconfig.png?w=768&amp;h=309 768w, https://peterrombouts.nl/wp-content/uploads/2018/12/releaseconfig.png?w=1024&amp;h=412 1024w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px" /></p>
<p>The example above shows the Release config, with the transformation (matched by name) of a ConnectionString. This has some disadvantages. First of all, for every new setting, each transformation file should be extended or modified. Secondly, every developer has access to all the settings, even for the production servers.</p>
<h2>Using tokens in combination with transformation</h2>
<p>This is where the tokens come in, and help you separate the settings of all different environments with your code-base. The transformation still can be used, but now we do not insert the actual values but token placeholders.</p>
<p><img loading="lazy" data-attachment-id="95" data-permalink="https://peterrombouts.nl/tokenconfig/" data-orig-file="https://peterrombouts.nl/wp-content/uploads/2018/12/tokenconfig.png" data-orig-size="1139,559" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="TokenConfig" data-image-description="" data-image-caption="" data-medium-file="https://peterrombouts.nl/wp-content/uploads/2018/12/tokenconfig.png?w=300" data-large-file="https://peterrombouts.nl/wp-content/uploads/2018/12/tokenconfig.png?w=840" class="alignnone size-full wp-image-95" src="https://peterrombouts.nl/wp-content/uploads/2018/12/tokenconfig.png?w=840" alt="TokenConfig"   srcset="https://peterrombouts.nl/wp-content/uploads/2018/12/tokenconfig.png 1139w, https://peterrombouts.nl/wp-content/uploads/2018/12/tokenconfig.png?w=150&amp;h=74 150w, https://peterrombouts.nl/wp-content/uploads/2018/12/tokenconfig.png?w=300&amp;h=147 300w, https://peterrombouts.nl/wp-content/uploads/2018/12/tokenconfig.png?w=768&amp;h=377 768w, https://peterrombouts.nl/wp-content/uploads/2018/12/tokenconfig.png?w=1024&amp;h=503 1024w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px" /></p>
<p>First of all, we do not necessarily have to use different transformations for different environments. In this example we will run Release builds for all environments, Test, Staging and Production.</p>
<h2>Setup in VSTS</h2>
<p>When running this example (using a Release build), the connectionString will be replaced with __ConnectionString__, which obviously will not work for your application. We will have to make sure these tokens are replaced with the correct values per environment.</p>
<p>You will need to install an extension by <a href="https://marketplace.visualstudio.com/items?itemName=qetza.replacetokens" target="_blank" rel="noopener">Guillaume Rouchon; Replace Tokens</a>. There are more extensions that will do this task, and optionally you could write one yourself. Iâ€™m using this extension because it fits the needs perfectly and is free of charge.</p>
<p>After installing the extension, you should add the build step to your Build Definition in VSTS.</p>
<p><img loading="lazy" data-attachment-id="89" data-permalink="https://peterrombouts.nl/replacetokensinvsts/" data-orig-file="https://peterrombouts.nl/wp-content/uploads/2018/12/replacetokensinvsts.png" data-orig-size="1877,823" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="ReplaceTokensinVSTS" data-image-description="" data-image-caption="" data-medium-file="https://peterrombouts.nl/wp-content/uploads/2018/12/replacetokensinvsts.png?w=300" data-large-file="https://peterrombouts.nl/wp-content/uploads/2018/12/replacetokensinvsts.png?w=840" class="alignnone size-full wp-image-89" src="https://peterrombouts.nl/wp-content/uploads/2018/12/replacetokensinvsts.png?w=840" alt="ReplaceTokensinVSTS"   srcset="https://peterrombouts.nl/wp-content/uploads/2018/12/replacetokensinvsts.png 1877w, https://peterrombouts.nl/wp-content/uploads/2018/12/replacetokensinvsts.png?w=150&amp;h=66 150w, https://peterrombouts.nl/wp-content/uploads/2018/12/replacetokensinvsts.png?w=300&amp;h=132 300w, https://peterrombouts.nl/wp-content/uploads/2018/12/replacetokensinvsts.png?w=768&amp;h=337 768w, https://peterrombouts.nl/wp-content/uploads/2018/12/replacetokensinvsts.png?w=1024&amp;h=449 1024w, https://peterrombouts.nl/wp-content/uploads/2018/12/replacetokensinvsts.png?w=1440&amp;h=631 1440w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px" /></p>
<p>In the above example, the target files to process are all *Release.config files in all folders. For an elaboration of all values please see <a href="https://marketplace.visualstudio.com/items?itemName=qetza.replacetokens" target="_blank" rel="noopener">the documentation</a> of the plugin. For this example the prefix and suffix are most important. These both are a double underscore, and those correspond to the value of our example __ConnectionString__ which is going to be replaced. You could choose any other string or character if you want.</p>
<h2>Define variables in VSTS</h2>
<p>The last step is to add the variables to VSTS. This is done in the â€˜Variablesâ€™ tab of the Build Definition:</p>
<p><img loading="lazy" data-attachment-id="97" data-permalink="https://peterrombouts.nl/vars/" data-orig-file="https://peterrombouts.nl/wp-content/uploads/2018/12/vars.png" data-orig-size="1572,278" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Vars" data-image-description="" data-image-caption="" data-medium-file="https://peterrombouts.nl/wp-content/uploads/2018/12/vars.png?w=300" data-large-file="https://peterrombouts.nl/wp-content/uploads/2018/12/vars.png?w=840" class="alignnone size-full wp-image-97" src="https://peterrombouts.nl/wp-content/uploads/2018/12/vars.png?w=840" alt="Vars"   srcset="https://peterrombouts.nl/wp-content/uploads/2018/12/vars.png 1572w, https://peterrombouts.nl/wp-content/uploads/2018/12/vars.png?w=150&amp;h=27 150w, https://peterrombouts.nl/wp-content/uploads/2018/12/vars.png?w=300&amp;h=53 300w, https://peterrombouts.nl/wp-content/uploads/2018/12/vars.png?w=768&amp;h=136 768w, https://peterrombouts.nl/wp-content/uploads/2018/12/vars.png?w=1024&amp;h=181 1024w, https://peterrombouts.nl/wp-content/uploads/2018/12/vars.png?w=1440&amp;h=255 1440w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px" /></p>
<p>Please note that the variables do not have the prefix and suffix as used in the Web.Release.config files.</p>
<h2>Everything is in place</h2>
<p>When all steps are configured correctly, the system will execute the following steps:</p>
<ul>
<li>The â€˜Replace Tokensâ€™ extension will replace the __ConnectionString__ in Web.Release.Config with the actual value set in the variables section of your definition.</li>
<li>The build solution step will execute the transform, as it would normally do. But in this case the first step has changed the token with the actual value to be deployed into your application</li>
<li>Publishing your application with the correct ConnectionString in the Web.config ensures the target application will use the ConnectionString as defined in your Build Definition variables.</li>
</ul>
<h2>Conclusion</h2>
<p>Using this setup, you are able to move the actual settings normally contained in your transformation files to your build definition in VSTS. In a fully automated CICD pipeline this enables you to shield settings from developers, and enable you to stop builds on missing variables.</p>
<p>Another advantage is that if a new environment is needed, like a Demo environment based on Production, only a Build Definition has to be added with new variables, and no additional transformation files are needed in your code-base.</p>
]]></content:encoded>
					
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">37</post-id>
		<media:content url="https://2.gravatar.com/avatar/2d71c5b7b9038c6f1e7d41fe2d53cc80d5758cb22034c2c551ba0037727f9086?s=96&#38;d=identicon&#38;r=G" medium="image">
			<media:title type="html">peterr1978</media:title>
		</media:content>

		<media:content url="https://peterrombouts.nl/wp-content/uploads/2018/12/releaseconfig.png" medium="image">
			<media:title type="html">ReleaseConfig</media:title>
		</media:content>

		<media:content url="https://peterrombouts.nl/wp-content/uploads/2018/12/tokenconfig.png" medium="image">
			<media:title type="html">TokenConfig</media:title>
		</media:content>

		<media:content url="https://peterrombouts.nl/wp-content/uploads/2018/12/replacetokensinvsts.png" medium="image">
			<media:title type="html">ReplaceTokensinVSTS</media:title>
		</media:content>

		<media:content url="https://peterrombouts.nl/wp-content/uploads/2018/12/vars.png" medium="image">
			<media:title type="html">Vars</media:title>
		</media:content>
	</item>
	</channel>
</rss>
